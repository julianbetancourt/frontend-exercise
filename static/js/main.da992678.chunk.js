(this["webpackJsonpfrontend-exercise"]=this["webpackJsonpfrontend-exercise"]||[]).push([[0],{65:function(e,n,t){"use strict";t.r(n);var r=t(5),i=t(1),a=t.n(i),c=t(32),o=t.n(c),s=t(67),l=t(39),d=t(4),u=t(33),h=t(14),j=t(68),b=t(20),p=t.n(b),f=t(37),x=t(38),m=t.n(x),v="https://swapi.dev";function O(){return(O=Object(f.a)(p.a.mark((function e(n){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,e.prev=1,e.next=4,m()("".concat(v,"/api/planets"),{params:{page:t}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),new Error("There was an error getting the planets for page ".concat(t));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var g={getAll:function(e){return O.apply(this,arguments)}};function w(){return(w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function y(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var k=i.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M77.175 21.426c0 .541-.154.967-.772.967-.62 0-.774-.426-.774-.967V6.575c0-.503.154-.967.774-.967.618 0 .772.464.772.967v5.861h6.575V7.348C83.75 2.514 81.081 0 76.286 0c-4.796 0-7.465 2.514-7.465 7.348v13.304c0 4.795 2.669 7.348 7.465 7.348 4.795 0 7.503-2.553 7.503-7.348v-6.103h-6.614v6.877zm20.202-8.006L100.626.465h-6.574l-2.243 10.557V.465h-6.846v27.071h6.846V17.481l2.165 10.055h6.884L97.377 13.42zM60.88 21.348c0 .619-.155 1.122-.851 1.122s-.89-.503-.89-1.122V.703h-6.845v20.103c0 4.68 2.746 7.194 7.657 7.194 4.951 0 7.697-2.514 7.697-7.194V.703H60.88v20.645zm-39.774-6.576l-2.535-7.635h-4.517v20.399h5.332V19.96l2.623 7.576h4.429V7.137h-5.332v7.635zM7.169 22.378c0 .437-.116.816-.67.816-.524 0-.67-.379-.67-.816V12.266c0-.437.146-.786.67-.786.554 0 .67.349.67.786v10.112zM6.499 6.73C2.361 6.73 0 8.828 0 12.937v8.771c0 4.109 2.361 6.236 6.499 6.236s6.498-2.127 6.498-6.236v-8.771c0-4.109-2.36-6.207-6.498-6.207zm38.06 4.718c0 .619-.194 1.16-.929 1.16h-.387V5.762h.387c.696 0 .929.503.929 1.161v4.525zm6.728 8.199c0-2.089-.85-3.636-2.513-4.564 1.663-.889 2.513-2.359 2.513-4.563V6.691c0-4.022-2.32-6.226-7.231-6.226H24.438v5.607h3.596v21.464h6.807V6.072h1.596v21.464h6.806v-9.591h.387c.696 0 .929.503.929 1.16v5.067c0 1.315.077 2.668.347 3.364h6.73c-.232-.851-.349-2.166-.349-3.364v-4.525z"});function V(e,n){var t=e.title,r=e.titleId,a=y(e,["title","titleId"]);return i.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:101,height:28,viewBox:"0 0 101 28",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,k)}var C,B,S,P,z=i.forwardRef(V),L=(t.p,d.d.header(C||(C=Object(r.a)(["\n  background: #000;\n  height: 70px;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 20px;\n  @media (min-width: ",") {\n    justify-content: start;\n  }\n"])),(function(e){return e.theme.screenBreaks.lg}))),R=d.d.div(B||(B=Object(r.a)(["\n  display: flex;\n\n  & > svg {\n    max-width: 180px;\n    height: auto;\n    margin-right: 5px;\n  }\n\n  & > span {\n    text-transform: uppercase;\n    align-self: flex-end;\n    font-size: 0.8rem;\n  }\n"]))),E=t(2);function M(){return Object(E.jsx)(L,{children:Object(E.jsxs)(R,{children:[Object(E.jsx)(z,{}),Object(E.jsx)("span",{children:"Planets"})]})})}var N=d.d.div(S||(S=Object(r.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  & > .pagination__indicator {\n    color: white;\n    margin-bottom: 10px;\n  }\n"]))),T=d.d.button(P||(P=Object(r.a)(["\n  opacity: ",";\n  cursor: ",";\n  &:hover {\n    background: ",";\n  }\n"])),(function(e){return e.enabled?"1":"0.8"}),(function(e){return e.enabled?"pointer":"default"}),(function(e){return e.enabled?"#1a344a":"steelblue"}));function I(e){var n=e.currentPage,t=e.hasPrevious,r=e.hasNext,a=e.setCurrentPage,c=(e.searchValue,e.setSearchValue),o=Object(l.b)();return Object(i.useEffect)((function(){o.prefetchQuery(["planets",n+1],(function(){return g.getAll({page:n+1})}),{staleTime:1e4})}),[n,o]),Object(E.jsxs)(N,{children:[Object(E.jsxs)("span",{className:"pagination__indicator",children:["Current page: ",n]}),Object(E.jsxs)("div",{children:[Object(E.jsx)(T,{onClick:function(e){c(""),t&&a((function(e){return e-1}))},enabled:t,children:"Back"}),Object(E.jsx)(T,{enabled:r,onClick:function(e){c(""),r&&a((function(e){return e+1}))},children:"Next"})]})]})}var F,_,A,D,H,J,Q,q,G,K,U=t(40),W=d.d.div(F||(F=Object(r.a)(["\n  background: #fff;\n  padding: 15px 20px;\n  width: 100%;\n  border-radius: 5px;\n  margin-bottom: 15px;\n  display: flex;\n  flex-direction: column;\n\n  button {\n    margin-top: auto;\n  }\n\n  @media (min-width: ",") {\n    width: 250px;\n    margin: 0 10px 15px;\n  }\n\n  @media (min-width: ",") {\n    margin: 0 8px 15px;\n  }\n"])),(function(e){return e.theme.screenBreaks.md}),(function(e){return e.theme.screenBreaks.lg})),X=d.d.h3(_||(_=Object(r.a)(["\n  font-size: 1.3rem;\n  font-weight: 700;\n  margin-bottom: 10px;\n"]))),Y=d.d.ol(A||(A=Object(r.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  width: 100%;\n"]))),Z=d.d.div(D||(D=Object(r.a)(["\n  color: #949bac;\n  width: 100px;\n  font-weight: 700;\n  word-wrap: break-word;\n  @media (min-width: ",") {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n"])),(function(e){return e.theme.screenBreaks.md})),$=d.d.span(H||(H=Object(r.a)(["\n  width: 50%;\n  @media (min-width: ",") {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n"])),(function(e){return e.theme.screenBreaks.md})),ee=(d.d.ul(J||(J=Object(r.a)([""]))),d.d.div(Q||(Q=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  @media (min-width: ",") {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n\n  @media (min-width: ",") {\n    width: 1100px;\n    justify-content: end;\n  }\n"])),(function(e){return e.theme.screenBreaks.md}),(function(e){return e.theme.screenBreaks.lg}))),ne=d.d.button(q||(q=Object(r.a)(["\n  ","\n"])),(function(e){return e.isReviewed&&Object(d.c)(G||(G=Object(r.a)(["\n      opacity: 0.8;\n      cursor: default;\n    "])))}));function te(e){var n=e.planet,t=e.isReviewed,r=void 0!==t&&t,i=e.onReviewClick,a=n.name,c=n.diameter,o=n.climate,s=n.population,l=n.terrain,d=n.url;return Object(E.jsxs)(W,{children:[Object(E.jsx)(X,{children:a}),Object(E.jsxs)("ul",{children:[Object(E.jsxs)(Y,{children:[Object(E.jsx)(Z,{children:"Diameter:"}),Object(E.jsx)($,{children:c})]}),Object(E.jsxs)(Y,{children:[Object(E.jsx)(Z,{children:"Climate:"}),Object(E.jsx)($,{children:o})]}),Object(E.jsxs)(Y,{children:[Object(E.jsx)(Z,{children:"Population:"}),Object(E.jsx)($,{"data-testid":"population-value",children:s})]}),Object(E.jsxs)(Y,{children:[Object(E.jsx)(Z,{children:"Terrain:"}),Object(E.jsx)($,{children:l})]})]}),Object(E.jsx)(ne,{onClick:function(){return!r&&i(d)},isReviewed:r,children:r?"Reviewed!":"Mark as reviewed"})]})}function re(e){var n=e.planets,t=Object(i.useState)([]),r=Object(h.a)(t,2),a=r[0],c=r[1];function o(e){c((function(n){return[].concat(Object(U.a)(n),[e])}))}return Object(E.jsx)(ee,{children:n.map((function(e){return Object(E.jsx)(te,{planet:e,onReviewClick:o,isReviewed:a.includes(e.url)},e.url)}))})}var ie,ae=d.d.input(K||(K=Object(r.a)(["\n  width: 100%;\n  height: 40px;\n  margin: 10px 0 30px;\n  @media (min-width: ",") {\n    width: 400px;\n    margin: 30px 0 30px;\n  }\n"])),(function(e){return e.theme.screenBreaks.lg}));function ce(e){var n=e.searchValue,t=e.setSearchValue;return Object(E.jsx)(ae,{type:"text",placeholder:"Search by name...",value:n,onChange:function(e){return t(e.target.value)}})}var oe,se,le=d.d.div(ie||(ie=Object(r.a)(["\n  color: white;\n  margin-bottom: 20px;\n"])));function de(e){var n=e.sorter,t=e.setSorter;return Object(E.jsxs)(le,{children:["Sort by",Object(E.jsxs)("select",{value:n,onChange:function(e){t(e.target.value)},"data-testid":"sorter-select",children:[Object(E.jsx)("option",{value:ue.none,"data-testid":ue.none,children:"None"}),Object(E.jsx)("option",{value:ue.diameter,"data-testid":ue.diameter,children:"Diameter"}),Object(E.jsx)("option",{value:ue.population,"data-testid":ue.population,children:"population"})]})]})}var ue,he=d.d.main(oe||(oe=Object(r.a)(["\n  width: 90%;\n  margin: 0 auto;\n\n  @media (min-width: ",") {\n    width: 1100px;\n  }\n"])),(function(e){return e.theme.screenBreaks.lg})),je=d.d.span(se||(se=Object(r.a)(["\n  color: white;\n"])));function be(e){var n=e.error;return e.isLoading?Object(E.jsx)(je,{children:"Loading..."}):n?Object(E.jsx)(je,{children:n}):Object(E.jsx)(je,{children:"There has been an error, try again!"})}!function(e){e.none="none",e.population="population",e.diameter="diameter"}(ue||(ue={}));var pe,fe,xe,me=function(){var e,n,t=Object(i.useState)(""),r=Object(h.a)(t,2),a=r[0],c=r[1],o=Object(i.useState)(1),s=Object(h.a)(o,2),l=s[0],d=s[1],u=Object(i.useState)(ue.none),b=Object(h.a)(u,2),p=b[0],f=b[1],x=(n=l,Object(j.a)(["planets",n],(function(){return g.getAll({page:n})}),{enabled:!0,retry:!1})),m=x.data,v=x.error,O=x.isLoading,w=Object(i.useMemo)((function(){var e;return function(e){var n=e.planets,t=e.name,r=e.sortBy;if(""===t&&r===ue.none)return n;var i=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return r!==ue.none&&(i=i.sort((function(e,n){return Number(e[r])-Number(n[r])}))),i}({planets:null!==(e=null===m||void 0===m?void 0:m.results)&&void 0!==e?e:[],name:a,sortBy:p})}),[a,null===m||void 0===m?void 0:m.results,p]);return Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsxs)(he,{children:[Object(E.jsx)(ce,{searchValue:a,setSearchValue:c}),Object(E.jsx)(de,{sorter:p,setSorter:f}),Object(E.jsx)(I,{currentPage:l,setCurrentPage:d,hasPrevious:(null===m||void 0===m?void 0:m.previous)||!1,hasNext:Boolean(null===m||void 0===m?void 0:m.next)||!1,searchValue:a,setSearchValue:c}),O||v?Object(E.jsx)(be,{error:null!==(e=null===v||void 0===v?void 0:v.message)&&void 0!==e?e:null,isLoading:O}):Object(E.jsx)(re,{planets:w})]})]})},ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,69)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),a(e),c(e)}))},Oe=Object(d.c)(pe||(pe=Object(r.a)(['\n  background: steelblue;\n  cursor: pointer;\n  border: 0;\n  padding: 10px 25px;\n  margin-right: 20px;\n  color: white;\n  border-radius: 5px;\n  &:hover {\n    background: "#1a344a";\n  }\n']))),ge=Object(d.c)(fe||(fe=Object(r.a)(["\n  * {\n    box-sizing: border-box;\n  }\n  html {\n    font-family: Helvetica, sans-serif;\n  }\n  body {\n    background: #3b4f63;\n  }\n  button {\n    ","\n  }\n"])),Oe),we=Object(d.b)(xe||(xe=Object(r.a)(["\n  ","\n  ","\n"])),u.a,ge),ye=new s.a;o.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(d.a,{theme:{screenBreaks:{md:"600px",lg:"1237px"}},children:Object(E.jsxs)(l.a,{client:ye,children:[Object(E.jsx)(we,{}),Object(E.jsx)(me,{})]})})}),document.getElementById("root")),ve()}},[[65,1,2]]]);
//# sourceMappingURL=main.da992678.chunk.js.map